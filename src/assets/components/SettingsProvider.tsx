import { useState, createContext, ReactNode } from "react";

interface Settings {
  pathSteps: number;
  tolerance: number;
  precision: number;
  svgInput: string;
}
interface SettingsContextProps {
  settings: Settings;
  updateSettings: (newSettings: Partial<Settings>) => void;
}
const SettingsContext = createContext<SettingsContextProps | undefined>(
  undefined
);

interface Props {
  children: ReactNode;
}
const SettingsProvider = ({ children }: Props) => {
  const [settings, setSettings] = useState({
    pathSteps: 100,
    tolerance: 2.5,
    precision: 5,
    svgInput: ' <svg viewBox="0 0 88 13" fill="none" xmlns="http://www.w3.org/2000/svg" ><g id="frame"><path id="Hello World!" d="M2.90039 9.92383C2.84961 9.97461 2.7793 10 2.68945 10H0.837891C0.748047 10 0.675781 9.97461 0.621094 9.92383C0.570312 9.87305 0.544922 9.8125 0.544922 9.74219C0.544922 9.67578 0.568359 9.61914 0.615234 9.57227C0.666016 9.52148 0.736328 9.49609 0.826172 9.49609H1.55273V3.64258H0.919922C0.826172 3.64258 0.753906 3.61914 0.703125 3.57227C0.652344 3.52148 0.626953 3.46094 0.626953 3.39062C0.626953 3.32422 0.652344 3.26563 0.703125 3.21484C0.757812 3.16406 0.830078 3.13867 0.919922 3.13867H2.68945C2.7793 3.13867 2.84961 3.16406 2.90039 3.21484C2.95508 3.26563 2.98242 3.32617 2.98242 3.39648C2.98242 3.46289 2.95703 3.52148 2.90625 3.57227C2.85938 3.61914 2.79102 3.64258 2.70117 3.64258H2.11523V6.26172H5.2793V3.64258H4.69336C4.60352 3.64258 4.5332 3.61914 4.48242 3.57227C4.43555 3.52148 4.41211 3.46289 4.41211 3.39648C4.41211 3.32617 4.4375 3.26563 4.48828 3.21484C4.54297 3.16406 4.61523 3.13867 4.70508 3.13867H6.42773C6.51758 3.13867 6.58789 3.16406 6.63867 3.21484C6.69336 3.26172 6.7207 3.31641 6.7207 3.37891C6.7207 3.44922 6.69531 3.51172 6.64453 3.56641C6.59375 3.61719 6.52148 3.64258 6.42773 3.64258H5.8418V9.49609H6.42773C6.52148 9.49609 6.59375 9.52148 6.64453 9.57227C6.69531 9.61914 6.7207 9.67773 6.7207 9.74805C6.7207 9.81445 6.69336 9.87305 6.63867 9.92383C6.58789 9.97461 6.51758 10 6.42773 10H4.70508C4.61523 10 4.54297 9.97461 4.48828 9.92383C4.4375 9.87305 4.41211 9.8125 4.41211 9.74219C4.41211 9.67578 4.43555 9.61914 4.48242 9.57227C4.5332 9.52148 4.60352 9.49609 4.69336 9.49609H5.2793V6.73047H2.11523V9.49609H2.70117C2.79102 9.49609 2.85938 9.51953 2.90625 9.56641C2.95703 9.61328 2.98242 9.66797 2.98242 9.73047C2.98242 9.80469 2.95508 9.86914 2.90039 9.92383ZM8.8418 8.94531C8.61914 8.57031 8.50781 8.12695 8.50781 7.61523C8.50781 7.13086 8.62305 6.70898 8.85352 6.34961C9.08789 5.99023 9.40039 5.71484 9.79102 5.52344C10.1855 5.33203 10.6211 5.23633 11.0977 5.23633C11.5039 5.23633 11.8652 5.3125 12.1816 5.46484C12.502 5.61328 12.752 5.83398 12.9316 6.12695C13.1152 6.41992 13.207 6.77539 13.207 7.19336C13.207 7.3418 13.166 7.46484 13.084 7.5625C13.002 7.65625 12.8926 7.70312 12.7559 7.70312L9.07031 7.73242C9.08984 8.34961 9.28516 8.81836 9.65625 9.13867C10.0273 9.45898 10.5137 9.61914 11.1152 9.61914C11.4082 9.61914 11.6953 9.56641 11.9766 9.46094C12.2617 9.35156 12.5156 9.19141 12.7383 8.98047C12.8203 8.91406 12.9004 8.88086 12.9785 8.88086C13.0488 8.88086 13.1055 8.90625 13.1484 8.95703C13.1914 9.00781 13.2129 9.06836 13.2129 9.13867C13.2129 9.22461 13.1777 9.30664 13.1074 9.38477C12.9043 9.60352 12.6113 9.77734 12.2285 9.90625C11.8496 10.0352 11.4941 10.0996 11.1621 10.0996C10.6387 10.0996 10.1758 10 9.77344 9.80078C9.375 9.60156 9.06445 9.31641 8.8418 8.94531ZM12.3457 6.17969C12.1309 5.87109 11.7188 5.7168 11.1094 5.7168C10.5391 5.7168 10.0762 5.85547 9.7207 6.13281C9.36914 6.41016 9.1582 6.79883 9.08789 7.29883L12.709 7.27539C12.6816 6.85352 12.5605 6.48828 12.3457 6.17969ZM18.4688 3.08008L18.5332 3.07422C18.5957 3.07422 18.6465 3.0918 18.6855 3.12695C18.7246 3.1582 18.7441 3.20312 18.7441 3.26172V9.51953H20.7363C20.8066 9.51953 20.8613 9.54492 20.9004 9.5957C20.9434 9.64258 20.9648 9.69727 20.9648 9.75977C20.9648 9.82617 20.9434 9.88281 20.9004 9.92969C20.8613 9.97656 20.8047 10 20.7305 10H16.043C15.957 10 15.8906 9.97656 15.8438 9.92969C15.7969 9.87891 15.7734 9.82031 15.7734 9.75391C15.7734 9.69141 15.7949 9.63672 15.8379 9.58984C15.8809 9.54297 15.9414 9.51953 16.0195 9.51953H18.1816V3.61328L16.1133 3.77734L16.0723 3.7832C15.998 3.7832 15.9395 3.75977 15.8965 3.71289C15.8535 3.66211 15.832 3.60352 15.832 3.53711C15.832 3.47852 15.8477 3.42773 15.8789 3.38477C15.9102 3.33789 15.957 3.31055 16.0195 3.30273L18.4688 3.08008ZM25.7344 3.08008L25.7988 3.07422C25.8613 3.07422 25.9121 3.0918 25.9512 3.12695C25.9902 3.1582 26.0098 3.20312 26.0098 3.26172V9.51953H28.002C28.0723 9.51953 28.127 9.54492 28.166 9.5957C28.209 9.64258 28.2305 9.69727 28.2305 9.75977C28.2305 9.82617 28.209 9.88281 28.166 9.92969C28.127 9.97656 28.0703 10 27.9961 10H23.3086C23.2227 10 23.1562 9.97656 23.1094 9.92969C23.0625 9.87891 23.0391 9.82031 23.0391 9.75391C23.0391 9.69141 23.0605 9.63672 23.1035 9.58984C23.1465 9.54297 23.207 9.51953 23.2852 9.51953H25.4473V3.61328L23.3789 3.77734L23.3379 3.7832C23.2637 3.7832 23.2051 3.75977 23.1621 3.71289C23.1191 3.66211 23.0977 3.60352 23.0977 3.53711C23.0977 3.47852 23.1133 3.42773 23.1445 3.38477C23.1758 3.33789 23.2227 3.31055 23.2852 3.30273L25.7344 3.08008ZM30.5215 8.95117C30.3145 8.58398 30.2109 8.15625 30.2109 7.66797C30.2109 7.17578 30.3145 6.74609 30.5215 6.37891C30.7285 6.01172 31.0195 5.73047 31.3945 5.53516C31.7695 5.33594 32.2031 5.23633 32.6953 5.23633C33.1875 5.23633 33.6211 5.33594 33.9961 5.53516C34.3711 5.73047 34.6621 6.01172 34.8691 6.37891C35.0762 6.74609 35.1797 7.17578 35.1797 7.66797C35.1797 8.15625 35.0762 8.58398 34.8691 8.95117C34.6621 9.31836 34.3711 9.60156 33.9961 9.80078C33.6211 10 33.1875 10.0996 32.6953 10.0996C32.2031 10.0996 31.7695 10 31.3945 9.80078C31.0195 9.60156 30.7285 9.31836 30.5215 8.95117ZM31.0605 6.66016C30.916 6.95312 30.8438 7.28906 30.8438 7.66797C30.8438 8.05078 30.916 8.39062 31.0605 8.6875C31.209 8.98047 31.4219 9.20898 31.6992 9.37305C31.9805 9.53711 32.3125 9.61914 32.6953 9.61914C33.0781 9.61914 33.4082 9.53711 33.6855 9.37305C33.9668 9.20898 34.1797 8.98047 34.3242 8.6875C34.4727 8.39062 34.5469 8.05078 34.5469 7.66797C34.5469 7.28906 34.4727 6.95312 34.3242 6.66016C34.1797 6.36328 33.9668 6.13281 33.6855 5.96875C33.4082 5.80078 33.0781 5.7168 32.6953 5.7168C32.3125 5.7168 31.9805 5.80078 31.6992 5.96875C31.4219 6.13281 31.209 6.36328 31.0605 6.66016ZM48.6211 8.85156L49.3359 3.64258H48.709C48.6191 3.64258 48.5469 3.61719 48.4922 3.56641C48.4414 3.51562 48.416 3.45508 48.416 3.38477C48.416 3.31836 48.4414 3.26172 48.4922 3.21484C48.543 3.16406 48.6133 3.13867 48.7031 3.13867H50.3379C50.4277 3.13867 50.498 3.16406 50.5488 3.21484C50.6035 3.26172 50.6309 3.31836 50.6309 3.38477C50.6309 3.45508 50.6035 3.51562 50.5488 3.56641C50.498 3.61719 50.4258 3.64258 50.332 3.64258H49.9219L48.9609 9.8418C48.9453 9.92773 48.9102 9.99219 48.8555 10.0352C48.8008 10.0781 48.7344 10.0996 48.6562 10.0996C48.5898 10.0996 48.5273 10.0723 48.4688 10.0176C48.4102 9.96289 48.3691 9.88867 48.3457 9.79492L47.3496 5.89258L46.2539 9.8418C46.2305 9.92773 46.1914 9.99219 46.1367 10.0352C46.082 10.0781 46.0215 10.0996 45.9551 10.0996C45.8809 10.0996 45.8145 10.0723 45.7559 10.0176C45.6973 9.96289 45.6621 9.88867 45.6504 9.79492L44.6777 3.64258H44.1855C44.0957 3.64258 44.0234 3.61719 43.9688 3.56641C43.918 3.51562 43.8926 3.45508 43.8926 3.38477C43.8926 3.31836 43.918 3.26172 43.9688 3.21484C44.0195 3.16406 44.0898 3.13867 44.1797 3.13867H45.9492C46.0391 3.13867 46.1094 3.16406 46.1602 3.21484C46.2109 3.26172 46.2363 3.31836 46.2363 3.38477C46.2363 3.45508 46.209 3.51562 46.1543 3.56641C46.1035 3.61719 46.0312 3.64258 45.9375 3.64258H45.2695L46.0781 8.83398L47.1152 5.01953C47.1309 4.95312 47.1641 4.90234 47.2148 4.86719C47.2656 4.82812 47.3203 4.80859 47.3789 4.80859C47.4375 4.80859 47.4902 4.82812 47.5371 4.86719C47.584 4.90234 47.6152 4.95312 47.6309 5.01953L48.6211 8.85156ZM52.3184 8.95117C52.1113 8.58398 52.0078 8.15625 52.0078 7.66797C52.0078 7.17578 52.1113 6.74609 52.3184 6.37891C52.5254 6.01172 52.8164 5.73047 53.1914 5.53516C53.5664 5.33594 54 5.23633 54.4922 5.23633C54.9844 5.23633 55.418 5.33594 55.793 5.53516C56.168 5.73047 56.459 6.01172 56.666 6.37891C56.873 6.74609 56.9766 7.17578 56.9766 7.66797C56.9766 8.15625 56.873 8.58398 56.666 8.95117C56.459 9.31836 56.168 9.60156 55.793 9.80078C55.418 10 54.9844 10.0996 54.4922 10.0996C54 10.0996 53.5664 10 53.1914 9.80078C52.8164 9.60156 52.5254 9.31836 52.3184 8.95117ZM52.8574 6.66016C52.7129 6.95312 52.6406 7.28906 52.6406 7.66797C52.6406 8.05078 52.7129 8.39062 52.8574 8.6875C53.0059 8.98047 53.2188 9.20898 53.4961 9.37305C53.7773 9.53711 54.1094 9.61914 54.4922 9.61914C54.875 9.61914 55.2051 9.53711 55.4824 9.37305C55.7637 9.20898 55.9766 8.98047 56.1211 8.6875C56.2695 8.39062 56.3438 8.05078 56.3438 7.66797C56.3438 7.28906 56.2695 6.95312 56.1211 6.66016C55.9766 6.36328 55.7637 6.13281 55.4824 5.96875C55.2051 5.80078 54.875 5.7168 54.4922 5.7168C54.1094 5.7168 53.7773 5.80078 53.4961 5.96875C53.2188 6.13281 53.0059 6.36328 52.8574 6.66016ZM63.5977 6.64844C63.543 6.59375 63.5156 6.51758 63.5156 6.41992V5.7168C62.9922 5.7168 62.5293 5.82031 62.127 6.02734C61.7246 6.23047 61.4453 6.52734 61.2891 6.91797V9.51953H63.2578C63.332 9.51953 63.3887 9.54297 63.4277 9.58984C63.4707 9.63672 63.4922 9.69336 63.4922 9.75977C63.4922 9.82227 63.4707 9.87891 63.4277 9.92969C63.3848 9.97656 63.3262 10 63.252 10H59.6777C59.5918 10 59.5254 9.97656 59.4785 9.92969C59.4316 9.87891 59.4082 9.82031 59.4082 9.75391C59.4082 9.69141 59.4297 9.63672 59.4727 9.58984C59.5156 9.54297 59.5762 9.51953 59.6543 9.51953H60.7266V5.8457L60.0117 5.99219C59.9961 5.99609 59.9727 5.99805 59.9414 5.99805C59.8672 5.99805 59.8086 5.97461 59.7656 5.92773C59.7266 5.88086 59.707 5.82617 59.707 5.76367C59.707 5.70898 59.7227 5.66211 59.7539 5.62305C59.7852 5.58008 59.8281 5.55273 59.8828 5.54102L60.8848 5.3418C60.9355 5.33008 60.9805 5.32422 61.0195 5.32422C61.1055 5.32422 61.1621 5.35156 61.1895 5.40625C61.2207 5.46094 61.2383 5.54297 61.2422 5.65234L61.2656 6.26172C61.7109 5.57812 62.4766 5.23633 63.5625 5.23633C63.75 5.23633 63.8828 5.26562 63.9609 5.32422C64.0391 5.38281 64.0781 5.4707 64.0781 5.58789V6.39648C64.0781 6.50195 64.0488 6.58398 63.9902 6.64258C63.9355 6.69727 63.8691 6.72461 63.791 6.72461C63.7168 6.72461 63.6523 6.69922 63.5977 6.64844ZM69.3281 3.08008L69.3926 3.07422C69.4551 3.07422 69.5059 3.0918 69.5449 3.12695C69.584 3.1582 69.6035 3.20312 69.6035 3.26172V9.51953H71.5957C71.666 9.51953 71.7207 9.54492 71.7598 9.5957C71.8027 9.64258 71.8242 9.69727 71.8242 9.75977C71.8242 9.82617 71.8027 9.88281 71.7598 9.92969C71.7207 9.97656 71.6641 10 71.5898 10H66.9023C66.8164 10 66.75 9.97656 66.7031 9.92969C66.6562 9.87891 66.6328 9.82031 66.6328 9.75391C66.6328 9.69141 66.6543 9.63672 66.6973 9.58984C66.7402 9.54297 66.8008 9.51953 66.8789 9.51953H69.041V3.61328L66.9727 3.77734L66.9316 3.7832C66.8574 3.7832 66.7988 3.75977 66.7559 3.71289C66.7129 3.66211 66.6914 3.60352 66.6914 3.53711C66.6914 3.47852 66.707 3.42773 66.7383 3.38477C66.7695 3.33789 66.8164 3.31055 66.8789 3.30273L69.3281 3.08008ZM78.0527 10.0176H78.0117C77.9336 10.0176 77.8691 9.99414 77.8184 9.94727C77.7676 9.89648 77.7402 9.82227 77.7363 9.72461L77.7188 9.37305C77.5391 9.58789 77.2969 9.76367 76.9922 9.90039C76.6914 10.0332 76.3613 10.0996 76.002 10.0996C75.5527 10.0996 75.1602 9.99609 74.8242 9.78906C74.4922 9.58203 74.2363 9.29492 74.0566 8.92773C73.877 8.56055 73.7871 8.14062 73.7871 7.66797C73.7871 7.20312 73.877 6.78711 74.0566 6.41992C74.2363 6.04883 74.4922 5.75977 74.8242 5.55273C75.1602 5.3418 75.5527 5.23633 76.002 5.23633C76.3574 5.23633 76.6641 5.28906 76.9219 5.39453C77.1836 5.5 77.4316 5.6543 77.666 5.85742V3.60742L76.916 3.6543C76.9004 3.6582 76.8828 3.66211 76.8633 3.66602C76.8438 3.66992 76.8223 3.67188 76.7988 3.67188C76.7324 3.67188 76.6777 3.65039 76.6348 3.60742C76.5918 3.56445 76.5703 3.51172 76.5703 3.44922C76.5703 3.39453 76.5859 3.34375 76.6172 3.29688C76.6484 3.25 76.6973 3.2207 76.7637 3.20898L77.8711 3.09766C77.9336 3.08984 77.9727 3.08594 77.9883 3.08594C78.1484 3.08594 78.2285 3.16211 78.2285 3.31445V9.50195L79.0957 9.4375H79.1309C79.209 9.4375 79.2676 9.45703 79.3066 9.49609C79.3457 9.53516 79.3652 9.58398 79.3652 9.64258C79.3652 9.70117 79.3457 9.75586 79.3066 9.80664C79.2676 9.85352 79.2129 9.88477 79.1426 9.90039L78.0527 10.0176ZM77.666 6.47266C77.2637 5.96875 76.7207 5.7168 76.0371 5.7168C75.6777 5.7168 75.3711 5.80469 75.1172 5.98047C74.8633 6.15625 74.6719 6.39258 74.543 6.68945C74.4141 6.98633 74.3496 7.3125 74.3496 7.66797C74.3496 8.02344 74.4141 8.34961 74.543 8.64648C74.6719 8.94336 74.8613 9.17969 75.1113 9.35547C75.3613 9.53125 75.6621 9.61914 76.0137 9.61914C76.7207 9.61914 77.2715 9.33594 77.666 8.76953V6.47266ZM83.2793 3.15625C83.3457 3.08203 83.4414 3.04492 83.5664 3.04492C83.6836 3.04492 83.7754 3.08203 83.8418 3.15625C83.9082 3.22656 83.9414 3.35352 83.9414 3.53711C83.9414 3.83398 83.9316 4.13281 83.9121 4.43359C83.8926 4.73047 83.8633 5.11523 83.8242 5.58789C83.7852 6.06445 83.7559 6.4668 83.7363 6.79492C83.7168 7.11914 83.707 7.44531 83.707 7.77344C83.707 7.85156 83.6953 7.90625 83.6719 7.9375C83.6484 7.96875 83.6133 7.98438 83.5664 7.98438C83.5195 7.98438 83.4844 7.96875 83.4609 7.9375C83.4375 7.90234 83.4258 7.84766 83.4258 7.77344C83.4258 7.44922 83.416 7.13672 83.3965 6.83594C83.377 6.53125 83.3457 6.11719 83.3027 5.59375C83.2637 5.16016 83.2324 4.78516 83.209 4.46875C83.1895 4.15234 83.1797 3.8418 83.1797 3.53711C83.1797 3.35352 83.2129 3.22656 83.2793 3.15625ZM83.9824 9.03906C84.0957 9.14844 84.1523 9.28711 84.1523 9.45508C84.1523 9.62305 84.0957 9.76562 83.9824 9.88281C83.8691 9.99609 83.7285 10.0527 83.5605 10.0527C83.3926 10.0527 83.25 9.99609 83.1328 9.88281C83.0195 9.76562 82.9629 9.62305 82.9629 9.45508C82.9629 9.28711 83.0195 9.14844 83.1328 9.03906C83.25 8.92578 83.3926 8.86914 83.5605 8.86914C83.7285 8.86914 83.8691 8.92578 83.9824 9.03906Z" fill="black"></path></g></svg>'
  });
  const updateSettings = (newSettings: Partial<Settings>) => {
    setSettings({ ...settings, ...newSettings });
  };
  return (
    <SettingsContext.Provider value={{ settings, updateSettings }}>
      {children}
    </SettingsContext.Provider>
  );
};

export {SettingsProvider, SettingsContext};
