import { useState, createContext, ReactNode } from "react";

interface Settings {
  pathSteps: number;
  tolerance: number;
  precision: number;
  svgInput: string;
}
interface SettingsContextProps {
  settings: Settings;
  updateSettings: (newSettings: Partial<Settings>) => void;
}
const SettingsContext = createContext<SettingsContextProps | undefined>(
  undefined
);

interface Props {
  children: ReactNode;
}
const SettingsProvider = ({ children }: Props) => {
  const [settings, setSettings] = useState({
    pathSteps: 100,
    tolerance: 2.5,
    precision: 5,
    svgInput: `<svg width="239.65" height="78.223" viewBox="0 0 239.65 78.223" xmlns="http://www.w3.org/2000/svg"><g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#000" stroke-width="0.25mm" fill="none" style="stroke:#000;stroke-width:0.25mm;fill:none"><path d="M 44.775 34.668 L 44.775 14.551 A 6.598 6.598 0 0 1 44.818 13.77 Q 44.919 12.932 45.252 12.42 A 1.98 1.98 0 0 1 45.264 12.402 Q 47.064 9.762 50.044 6.892 A 56.773 56.773 0 0 1 51.416 5.615 A 4.157 4.157 0 0 1 51.802 5.339 Q 52.295 5.029 52.686 5.029 A 1.346 1.346 0 0 1 53.227 5.15 Q 53.424 5.236 53.627 5.384 A 3.176 3.176 0 0 1 53.906 5.615 Q 56.055 7.471 57.52 9.155 A 40.617 40.617 0 0 1 59.044 11.012 A 31.773 31.773 0 0 1 60.059 12.402 Q 60.431 12.998 60.519 13.933 A 6.562 6.562 0 0 1 60.547 14.551 L 60.547 74.17 A 5.508 5.508 0 0 1 60.506 74.865 Q 60.41 75.616 60.088 76.032 A 1.343 1.343 0 0 1 59.937 76.196 Q 59.38 76.709 58.111 76.754 A 7.074 7.074 0 0 1 57.861 76.758 L 47.461 76.758 A 6.023 6.023 0 0 1 46.743 76.718 Q 45.834 76.609 45.386 76.196 A 1.556 1.556 0 0 1 45.014 75.648 Q 44.808 75.162 44.78 74.414 A 6.493 6.493 0 0 1 44.775 74.17 L 44.775 48.242 L 15.772 48.242 L 15.772 74.17 A 5.508 5.508 0 0 1 15.731 74.865 Q 15.635 75.616 15.312 76.032 A 1.343 1.343 0 0 1 15.161 76.196 Q 14.604 76.709 13.336 76.754 A 7.074 7.074 0 0 1 13.086 76.758 L 2.686 76.758 A 6.023 6.023 0 0 1 1.968 76.718 Q 1.059 76.609 0.61 76.196 A 1.556 1.556 0 0 1 0.238 75.648 Q 0.033 75.162 0.005 74.414 A 6.493 6.493 0 0 1 0 74.17 L 0 9.326 A 5.508 5.508 0 0 1 0.041 8.631 Q 0.137 7.88 0.459 7.464 A 1.343 1.343 0 0 1 0.61 7.3 Q 1.167 6.787 2.436 6.743 A 7.074 7.074 0 0 1 2.686 6.738 L 13.086 6.738 A 6.023 6.023 0 0 1 13.804 6.778 Q 14.713 6.887 15.161 7.3 A 1.556 1.556 0 0 1 15.533 7.848 Q 15.739 8.334 15.767 9.082 A 6.493 6.493 0 0 1 15.772 9.326 L 15.772 34.668 L 44.775 34.668 Z" id="0" vector-effect="non-scaling-stroke"/><path d="M 108.496 56.445 L 87.549 56.445 A 13.302 13.302 0 0 0 88.205 59.751 A 9.349 9.349 0 0 0 91.235 64.111 Q 94.531 66.748 100.195 66.748 Q 103.336 66.748 105.605 66.092 A 10.767 10.767 0 0 0 107.398 65.405 A 65.686 65.686 0 0 0 108.65 64.769 Q 110.376 63.867 111.182 63.281 Q 112.109 62.598 113.281 62.646 A 6.649 6.649 0 0 1 113.867 62.675 Q 114.502 62.732 115.381 62.9 A 28.856 28.856 0 0 1 115.942 63.013 Q 117.676 63.379 119.385 64.355 A 2.945 2.945 0 0 1 119.975 64.751 A 1.746 1.746 0 0 1 120.606 66.113 A 4.713 4.713 0 0 1 120.584 66.538 Q 120.545 66.965 120.435 67.548 A 19.601 19.601 0 0 1 120.361 67.92 Q 120.249 68.443 120.023 69.324 A 91.348 91.348 0 0 1 119.873 69.897 A 13.974 13.974 0 0 1 119.189 71.887 A 12.606 12.606 0 0 1 118.994 72.314 Q 118.735 72.789 118.209 73.226 A 4.926 4.926 0 0 1 118.066 73.34 A 12.529 12.529 0 0 1 117.503 73.709 Q 116.849 74.116 115.881 74.638 A 62.222 62.222 0 0 1 114.917 75.146 Q 113.457 75.901 111.281 76.534 A 39.834 39.834 0 0 1 108.984 77.124 A 29.879 29.879 0 0 1 105.901 77.643 Q 103.075 77.979 99.463 77.979 Q 91.501 77.979 85.539 75.501 A 27.082 27.082 0 0 1 85.107 75.317 A 20.165 20.165 0 0 1 75.635 67.041 A 21.888 21.888 0 0 1 73.217 61.058 Q 72.266 57.26 72.266 52.539 Q 72.266 39.209 79.102 32.373 A 22.92 22.92 0 0 1 91.843 25.971 A 32.544 32.544 0 0 1 97.266 25.537 Q 103.818 25.537 108.577 27.619 A 19.989 19.989 0 0 1 109.741 28.174 A 19.388 19.388 0 0 1 115.11 32.191 A 17.754 17.754 0 0 1 117.505 35.449 A 20.115 20.115 0 0 1 120.039 43.502 A 24.886 24.886 0 0 1 120.166 46.045 A 17.777 17.777 0 0 1 119.956 48.884 Q 119.375 52.465 117.188 54.15 A 9.729 9.729 0 0 1 114.22 55.668 Q 112.871 56.105 111.228 56.297 A 23.656 23.656 0 0 1 108.496 56.445 Z M 87.451 46.436 L 103.369 46.436 Q 105.859 46.436 105.859 44.141 A 9.134 9.134 0 0 0 105.358 41.063 A 8.014 8.014 0 0 0 103.687 38.306 A 6.854 6.854 0 0 0 100.608 36.407 Q 99.491 36.059 98.137 35.969 A 14.639 14.639 0 0 0 97.168 35.937 A 11.672 11.672 0 0 0 94.469 36.229 Q 92.551 36.685 91.225 37.852 A 6.962 6.962 0 0 0 90.21 38.965 Q 87.988 41.992 87.451 46.436 Z" id="1" vector-effect="non-scaling-stroke"/><path d="M 147.51 73.096 L 137.305 77.783 Q 136.327 78.202 135.882 78.222 A 0.964 0.964 0 0 1 135.84 78.223 A 1.295 1.295 0 0 1 135.403 78.142 Q 135.231 78.081 135.053 77.973 A 2.587 2.587 0 0 1 134.912 77.881 A 3.479 3.479 0 0 1 134.298 77.311 Q 133.428 76.316 132.393 74.142 A 32.883 32.883 0 0 1 132.349 74.048 A 11.649 11.649 0 0 1 131.597 71.85 Q 131.036 69.559 130.932 66.223 A 50.545 50.545 0 0 1 130.908 64.648 L 130.908 8.105 A 4.535 4.535 0 0 1 130.956 7.425 Q 131.01 7.07 131.125 6.781 A 2.012 2.012 0 0 1 131.397 6.299 A 23.423 23.423 0 0 1 133.202 4.223 Q 134.93 2.441 137.402 0.488 A 3.62 3.62 0 0 1 137.805 0.236 Q 138.014 0.125 138.206 0.067 A 1.428 1.428 0 0 1 138.623 0 A 1.716 1.716 0 0 1 139.454 0.22 A 2.419 2.419 0 0 1 139.844 0.488 A 48.286 48.286 0 0 1 141.555 1.861 Q 142.574 2.719 143.384 3.516 A 27.77 27.77 0 0 1 144.854 5.071 A 21.597 21.597 0 0 1 145.85 6.299 Q 146.231 6.794 146.314 7.616 A 4.834 4.834 0 0 1 146.338 8.105 L 146.338 61.67 Q 146.338 64.137 146.653 66.046 A 16.554 16.554 0 0 0 146.875 67.163 Q 147.252 68.758 147.726 69.908 A 9.813 9.813 0 0 0 148.145 70.801 Q 148.975 72.412 147.51 73.096 Z" id="2" vector-effect="non-scaling-stroke"/><path d="M 176.318 73.096 L 166.113 77.783 Q 165.135 78.202 164.69 78.222 A 0.964 0.964 0 0 1 164.649 78.223 A 1.295 1.295 0 0 1 164.211 78.142 Q 164.04 78.081 163.861 77.973 A 2.587 2.587 0 0 1 163.721 77.881 A 3.479 3.479 0 0 1 163.106 77.311 Q 162.237 76.316 161.202 74.142 A 32.883 32.883 0 0 1 161.157 74.048 A 11.649 11.649 0 0 1 160.405 71.85 Q 159.845 69.559 159.741 66.223 A 50.545 50.545 0 0 1 159.717 64.648 L 159.717 8.105 A 4.535 4.535 0 0 1 159.765 7.425 Q 159.819 7.07 159.934 6.781 A 2.012 2.012 0 0 1 160.205 6.299 A 23.423 23.423 0 0 1 162.011 4.223 Q 163.739 2.441 166.211 0.488 A 3.62 3.62 0 0 1 166.614 0.236 Q 166.822 0.125 167.015 0.067 A 1.428 1.428 0 0 1 167.432 0 A 1.716 1.716 0 0 1 168.263 0.22 A 2.419 2.419 0 0 1 168.652 0.488 A 48.286 48.286 0 0 1 170.363 1.861 Q 171.382 2.719 172.192 3.516 A 27.77 27.77 0 0 1 173.663 5.071 A 21.597 21.597 0 0 1 174.658 6.299 Q 175.039 6.794 175.123 7.616 A 4.834 4.834 0 0 1 175.147 8.105 L 175.147 61.67 Q 175.147 64.137 175.461 66.046 A 16.554 16.554 0 0 0 175.684 67.163 Q 176.061 68.758 176.535 69.908 A 9.813 9.813 0 0 0 176.953 70.801 Q 177.783 72.412 176.318 73.096 Z" id="3" vector-effect="non-scaling-stroke"/><path d="M 193.018 71.436 A 22.603 22.603 0 0 0 194.827 72.921 Q 201.682 77.979 212.5 77.979 A 45.728 45.728 0 0 0 213.423 77.969 Q 217.846 77.88 221.584 76.928 A 23.961 23.961 0 0 0 232.422 71.094 Q 237.306 66.441 238.889 58.934 A 38.106 38.106 0 0 0 239.649 51.074 Q 239.649 46.141 238.54 42.147 A 20.679 20.679 0 0 0 232.422 32.007 A 24.578 24.578 0 0 0 221.36 26.409 A 36.199 36.199 0 0 0 213.184 25.537 Q 208.32 25.537 204.22 26.539 A 25.314 25.314 0 0 0 193.286 32.104 Q 185.84 38.672 185.84 51.953 A 43.552 43.552 0 0 0 185.902 54.308 Q 186.125 58.414 187.141 61.812 A 20.759 20.759 0 0 0 193.018 71.436 Z M 212.988 66.162 A 13.69 13.69 0 0 0 216.227 65.803 A 8.765 8.765 0 0 0 221.094 62.817 A 9.509 9.509 0 0 0 222.594 60.11 Q 223.605 57.409 223.788 53.265 A 43.116 43.116 0 0 0 223.828 51.367 A 34.356 34.356 0 0 0 223.656 47.795 Q 223.254 43.962 221.913 41.681 A 7.709 7.709 0 0 0 221.069 40.503 Q 218.479 37.546 213.542 37.365 A 17.838 17.838 0 0 0 212.891 37.354 A 12.931 12.931 0 0 0 209.302 37.826 A 9.625 9.625 0 0 0 204.663 40.747 Q 201.789 43.995 201.666 51.114 A 37.287 37.287 0 0 0 201.66 51.758 A 35.268 35.268 0 0 0 201.839 55.441 Q 202.374 60.522 204.517 62.939 A 9.098 9.098 0 0 0 208.952 65.651 Q 210.414 66.066 212.165 66.144 A 18.525 18.525 0 0 0 212.988 66.162 Z" id="4" vector-effect="non-scaling-stroke"/></g></svg>`,
  });
  const updateSettings = (newSettings: Partial<Settings>) => {
    setSettings({ ...settings, ...newSettings });
  };
  return (
    <SettingsContext.Provider value={{ settings, updateSettings }}>
      {children}
    </SettingsContext.Provider>
  );
};

export { SettingsProvider, SettingsContext };
