import { useState, createContext, ReactNode } from "react";

interface Settings {
  pathSteps: number;
  tolerance: number;
  precision: number;
  svgInput: string;
}
interface SettingsContextProps {
  settings: Settings;
  updateSettings: (newSettings: Partial<Settings>) => void;
}
const SettingsContext = createContext<SettingsContextProps | undefined>(
  undefined
);

interface Props {
  children: ReactNode;
}
const SettingsProvider = ({ children }: Props) => {
  const [settings, setSettings] = useState({
    pathSteps: 100,
    tolerance: 2.5,
    precision: 5,
    svgInput: `<svg viewBox="0 0 43 42" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g id="9e165ed0" clip-path="url(#5bf998c3)">
      <rect width="43" height="42" fill="white"></rect>
      <path id="475d62d9" d="M22.3399 15.801C22.3399 14.9052 22.4914 13.9787 22.7279 13.1118C22.9751 12.2054 23.4297 11.3927 23.7536 10.5183C24.0474 9.72496 24.4803 8.82708 24.9228 8.10012C25.4174 7.28757 26.6757 7 27.5641 7C29.1585 7 29.9663 9.36272 30.3012 10.6352C30.4305 11.1266 30.6422 11.7847 30.6625 12.2827C30.679 12.6846 30.7033 13.1 30.9017 13.4572C31.142 13.8898 31.3327 14.6513 31.8636 14.8443C32.0777 14.9222 32.3231 15.227 32.5333 15.227C33.0045 15.227 33.4757 15.227 33.947 15.227C34.4196 15.227 34.7983 15.317 35.2544 15.4183C35.595 15.494 36.0358 15.4495 36.3066 15.7053C36.8606 16.2285 37.0465 16.8827 37.3111 17.5707C37.5254 18.1278 37.7332 19.2967 37.4971 19.9038C36.903 21.4314 34.7985 20.1966 33.7025 20.8711C32.8732 21.3814 31.8541 21.4952 30.9974 21.9712C30.0777 22.4821 29.0339 22.7132 28.0318 23.0182C26.7997 23.3932 25.4388 23.18 24.5933 24.2671C24.4523 24.4483 24.1575 24.5826 24.1575 24.8411C24.1575 25.1791 24.0914 25.4475 23.9874 25.7711C23.6275 26.891 23.4459 28.045 23.1052 29.1618C22.7795 30.2293 22.3828 31.3193 21.9094 32.3187C21.6669 32.8308 21.4868 34.1682 20.6658 34.1682C20.0068 34.1682 19.493 33.4347 19.2787 32.8927C18.8807 31.8859 18.3256 30.8585 18.2264 29.7677C18.1243 28.6447 17.845 27.596 17.5089 26.5205C17.3598 26.0432 17.0879 25.1682 16.446 25.4151C15.7658 25.6767 14.5323 25.6073 14.1342 26.3238C13.7947 26.9349 13.1024 27.718 13.0606 28.4284C13.0131 29.2357 13.1563 30.0274 13.1563 30.82C13.1563 31.4424 12.8693 32.0276 12.8693 32.5897C12.8693 33.293 12.8072 33.6422 12.2953 34.1257C11.8662 34.5309 11.0493 34.6457 10.499 34.4764C9.28997 34.1044 8.85147 32.7827 8.85147 31.5853C8.85147 30.8551 8.76839 30.3939 8.46882 29.7199C8.27999 29.295 8.31754 28.6507 8.03303 28.2849C7.57817 27.7001 7.47673 27.0288 7.15081 26.377C6.85933 25.794 6.52387 25.4312 6.07726 24.9846C5.52846 24.4358 4.63612 24.1995 3.97268 23.7941C3.53253 23.5251 2.94321 23.5145 2.53774 23.167C2.048 22.7472 1.45126 22.344 0.916794 21.9765C0.609127 21.765 0.387221 21.5209 0.0983472 21.2962C-0.17162 21.0863 0.17222 20.7087 0.433166 20.6798C0.638827 20.6569 1.04582 20.4261 1.25693 20.3449C1.55691 20.2296 2.07493 20.267 2.36768 20.3715C2.7466 20.5068 2.99054 20.6798 3.39871 20.6798C3.80661 20.6798 4.18066 20.5841 4.58917 20.5841C5.25971 20.5841 6.0268 20.2519 6.50774 19.771C7.02292 19.2558 7.66301 18.8622 8.42631 18.8622C9.24854 18.8622 10.0603 18.8895 10.8816 18.8622C11.184 18.8521 11.4481 18.6708 11.7426 18.6708C12.0792 18.6708 12.5988 18.7653 12.9118 18.623C13.5936 18.3131 14.3697 18.5069 15.0217 18.1447C15.2518 18.0169 15.6231 18.0012 15.888 18.0012C16.2199 18.0012 16.5152 17.7257 16.8127 17.7142C17.2271 17.6983 17.6503 17.5455 18.0351 17.5229C18.3127 17.5066 18.4674 17.3563 18.7526 17.3262C19.2849 17.2702 19.8033 17.0075 20.331 16.9489C20.6336 16.9153 21.5005 16.3589 21.6703 16.1092C21.8561 15.836 22.3062 15.4452 22.5791 15.227C22.8601 15.0021 23.1052 14.2377 23.1052 13.8877C23.1052 13.4105 23.0834 13.4489 23.254 13.8877C23.4235 14.3236 23.6404 14.7167 23.7961 15.1526C23.9928 15.7034 24.1266 16.3459 24.4445 16.832C24.5909 17.0559 24.7296 17.2852 24.8484 17.5229C24.9904 17.807 25.2542 17.8823 25.4011 18.1394C25.4656 18.2522 25.9375 18.2882 26.0707 18.2882C26.2653 18.2882 26.4508 18.1199 26.5491 17.9481C27.254 16.7143 26.5491 15.336 26.5491 14.0259C26.5491 13.5274 26.4534 13.0543 26.4534 12.5963C26.4534 11.9658 25.8794 11.359 25.8794 10.683C25.8794 10.1308 25.6881 9.67209 25.6881 9.10458C25.6881 8.81546 25.7015 7.80645 25.9751 7.66964" stroke="black" stroke-linecap="round"></path>
      <path id="73ba0838" d="M15.1349 37.7528C15.2495 37.7385 15.3309 37.4131 15.3794 37.3117C15.6621 36.7205 16.1522 36.1778 16.5273 35.6376C17.2793 34.5548 17.9051 33.3745 18.0792 32.0449C18.208 31.0613 18.2616 30.0308 18.4353 29.0581C18.5151 28.611 18.3989 28.1896 18.6744 27.8039C18.818 27.6029 18.8681 27.2127 19.0783 27.0598C19.2584 26.9289 20.2875 28.6919 20.4495 28.9306C20.84 29.5061 21.1026 30.2214 21.353 30.8651C21.6858 31.7208 21.8467 32.7874 22.2724 33.5915C22.6887 34.3778 22.7557 35.2791 23.0749 36.1053C23.2071 36.4473 23.3233 36.7965 23.4948 37.1203C23.5906 37.3014 23.5216 37.6127 23.6967 37.7528C23.9564 37.9605 23.7893 36.7071 23.7658 36.5517C23.7211 36.2555 23.7445 35.9473 23.7445 35.6482C23.7445 35.3854 23.5792 35.2256 23.5532 34.9786C23.5129 34.5956 23.1101 34.1991 22.9739 33.8359C22.8043 33.3836 22.4783 33.0088 22.1767 32.6401C21.4387 31.738 20.8299 30.7451 20.205 29.7384C19.8725 29.2026 19.3793 28.6297 19.3441 27.9952C19.3267 27.6818 19.1448 27.274 19.0624 26.9854C18.9657 26.647 19.0571 26.4331 19.0571 26.1245C19.0571 24.3205 18.9197 22.6791 18.2918 20.9799C17.8851 19.8795 17.4308 18.5614 17.4308 17.3873C17.4308 16.3474 17.4308 15.3075 17.4308 14.2676C17.4308 13.8862 17.6822 12.6892 17.1757 12.6892C16.5824 12.6892 16.3689 12.5457 15.9002 12.2853C15.4813 12.0526 15.1009 11.7497 14.7523 11.4509C14.3072 11.0694 14.1672 10.4045 13.9391 9.87245C13.4229 8.66796 13.3178 7.08842 14.5078 6.16286C14.9052 5.85378 15.4189 5.70748 15.8524 5.46665C16.3957 5.16481 17.3453 5.77998 17.8135 6.01405C18.761 6.48784 19.3471 7.08186 19.6736 8.108C19.8327 8.608 19.8782 9.81983 19.7055 10.3189C19.542 10.791 19.2932 11.1899 18.9614 11.5412C18.5952 11.929 17.8135 12.3961 17.8135 12.9815C17.8135 13.8246 17.8244 14.8516 18.2439 15.6069C18.5646 16.1841 18.1005 16.9212 18.1005 17.4723C18.1005 17.7788 18.1005 18.0853 18.1005 18.3917C18.1005 18.8291 17.9091 19.2292 17.9091 19.6247C17.9091 19.9972 18.7775 19.2684 18.8658 19.2155C19.6682 18.734 20.451 18.174 21.1191 17.5148C21.7081 16.9338 22.1475 16.2365 22.671 15.6016C23.0134 15.1863 23.1859 14.7386 23.4788 14.3154C23.7506 13.9228 23.983 13.5185 24.1697 13.0771C24.2365 12.9193 24.4741 12.6828 24.5045 12.5457C24.5342 12.4123 24.6055 12.3564 24.6055 12.2109C24.6055 12.0093 24.523 12.6071 24.4514 12.7955C24.281 13.244 24.0995 13.6975 23.8402 14.1029C23.446 14.7193 23.088 15.3948 22.6019 15.9417C22.3012 16.28 22.2274 16.771 21.9323 17.1215C21.4844 17.6535 20.824 17.8099 20.3538 18.2801C19.8744 18.7595 19.4269 19.1797 18.9614 19.6725C18.6427 20.01 18.2675 19.8396 17.957 19.5291C17.7464 19.3185 17.3919 19.2297 17.1173 19.1358C16.2887 18.8523 15.5984 18.3889 14.8479 17.9559C14.3261 17.6549 13.7481 17.499 13.2536 17.1641C12.667 16.7667 12.0395 16.4385 11.4466 16.0374C10.968 15.7136 10.5552 15.3381 10.1073 14.9798C9.97197 14.8715 9.35352 14.5284 9.30481 14.358C9.27463 14.2523 9.09818 14.1707 9.12943 14.1985C9.2574 14.3123 9.36838 14.4268 9.49082 14.5493C9.91113 14.9696 10.3285 15.6843 10.8301 15.963C11.4016 16.2804 11.8687 16.8099 12.451 17.1375C12.7244 17.2913 12.9199 17.615 13.1738 17.8124C13.3034 17.9132 13.5049 18.0655 13.6043 18.1898C13.7604 18.3849 14.1803 18.618 14.3909 18.7903C14.6585 19.0093 14.9997 19.0029 15.3262 19.0029" stroke="black" stroke-linecap="round"></path>
      <path id="6fb4ae72" d="M2.50745 16.2287C2.7848 16.2287 3.03197 16.0508 3.27275 16.0374C4.00039 15.997 4.74447 16.0293 5.47299 16.0374C6.17021 16.0451 6.80957 16.2494 7.48191 16.3988C8.26318 16.5724 9.22008 16.4418 10.0223 16.4945C12.1544 16.6345 14.179 16.518 16.2935 16.25C16.6767 16.2014 16.9591 16.133 17.282 15.963C17.4595 15.8696 17.885 15.7567 18.0048 15.6069C18.2416 15.3109 18.8804 15.1677 18.9561 14.7513C18.9912 14.5583 19.0016 14.3535 18.8126 14.2676C18.2867 14.0286 17.8777 13.5306 17.4096 13.1888C16.1276 12.2527 15.2327 11.2585 14.7098 9.77681C14.3747 8.8275 14.0548 7.82924 14.3696 6.80596C14.6884 5.77005 15.5501 5.44873 16.4742 5.08934C17.3934 4.73187 19.0735 4.55936 19.918 5.13717C20.4557 5.50507 21.2034 5.88498 21.5018 6.48177C21.7393 6.95686 21.9734 7.49002 22.113 8.00174C22.3503 8.87183 22.7429 9.6773 22.5222 10.5846C22.295 11.5188 22.0226 12.4932 22.0226 13.4545C22.0226 14.0074 22.27 14.4333 22.8836 14.5015C23.3788 14.5565 23.8679 14.5286 24.3664 14.6025C24.8847 14.6793 25.3757 14.7938 25.9023 14.7938C26.9836 14.7938 28.033 14.6299 29.1017 14.6025C30.2145 14.5739 31.3519 14.4975 32.4498 14.2942C33.7052 14.0617 34.8845 13.7415 36.1807 13.7415C36.8184 13.7415 37.4562 13.7415 38.0939 13.7415C38.428 13.7415 37.86 14.2973 37.8123 14.4643C37.5496 15.3836 37.6156 16.4806 37.6156 17.4723C37.6156 18.2905 37.6439 19.0321 37.2542 19.7682C37.0034 20.242 36.5262 20.9162 35.9309 20.9162C35.2673 20.9162 34.7557 20.6895 34.3631 20.1987C34.2702 20.0826 34.1718 19.9892 34.1718 20.1031C34.1718 20.5025 33.9678 20.7338 33.8848 21.1075C33.752 21.7049 33.3824 22.12 32.8803 22.399C32.3142 22.7135 31.2109 22.3529 30.8767 21.8516C30.7243 21.6229 30.5956 21.4199 30.4197 21.2244C30.3239 21.1181 30.3368 21.7453 30.2496 21.8941C29.9669 22.3764 30.0376 23.1012 29.3514 23.2068C28.4964 23.3383 27.5427 22.5547 26.912 22.0641C26.6426 21.8545 26.3704 21.6507 26.0936 21.453C26.013 21.3954 26.0439 21.5942 26.0351 21.6337C25.9938 21.8196 25.8558 22.0751 25.7535 22.2342C25.48 22.6596 25.0101 22.6381 24.5311 22.6381C24.1513 22.6381 24.3185 23.873 24.3185 24.2219C24.3185 25.3042 24.4142 26.4176 24.4142 27.4691C24.4142 27.6604 24.4142 27.8517 24.4142 28.0431C24.4142 28.3093 24.1165 28.1073 24.191 28.1547C24.5698 28.3957 25.1347 28.4188 25.4612 28.7127C25.7774 28.9973 26.1074 29.1674 26.455 29.4089C26.4617 29.4136 27.093 29.8657 27.029 29.9297C26.7389 30.2198 25.9402 30.3546 25.5621 30.4612C24.6991 30.7046 23.7534 30.6625 22.9261 31.0564C22.5003 31.2592 21.8732 31.1521 21.4168 31.1521C20.8711 31.1521 20.3255 31.1521 19.7799 31.1521C18.4846 31.1521 17.2333 31.3434 15.9427 31.3434C15.4361 31.3434 14.9158 31.3191 14.4174 31.2424C14.2837 31.2219 14.1734 31.1521 14.0348 31.1521C13.9717 31.1521 13.8932 31.1961 13.8966 31.184C13.9942 30.8423 14.5218 30.5741 14.8267 30.4612C15.4837 30.2178 16.0658 29.9342 16.5699 29.4302C16.9747 29.0253 16.7612 28.0281 16.7612 27.5063C16.7612 25.182 15.9959 22.9373 15.9959 20.6079C15.9959 19.8407 15.4186 20.7345 15.2306 21.0331C14.937 21.4994 15.0778 22.2115 14.9649 22.7338C14.8562 23.2363 14.656 23.6562 14.4865 24.1475C14.3201 24.6301 13.9675 24.9958 13.5087 25.1997C12.7616 25.5318 12.4326 24.6127 12.0312 24.2112C11.9105 24.0905 11.8816 23.8779 11.792 23.7435C11.6383 23.5129 11.8189 24.3107 11.7283 24.5726C11.4887 25.2646 11.1784 25.9847 10.6388 26.5018C10.1331 26.9864 10.0363 26.8466 9.60775 26.2946C9.10805 25.6509 8.8477 25.1098 8.62986 24.3282C8.57546 24.133 8.34287 23.3488 8.34287 23.4247C8.34287 24.6857 7.25862 25.3167 6.0948 25.3167C5.27952 25.3167 4.61438 24.8537 4.2719 24.1687C4.20978 24.0445 4.04825 23.3286 4.08589 23.3662C4.44465 23.725 3.89412 24.4934 3.65009 24.7374C3.3597 25.0278 2.79499 25.3239 2.40648 25.1147C1.77142 24.7728 1.36417 23.8714 0.982167 23.2918C0.893457 23.1572 0.785527 23.043 0.785527 22.8773C0.785527 22.4687 0.440808 21.9788 0.615461 21.5858C0.741672 21.3019 0.773279 21.0523 0.785527 20.7461C0.793507 20.5466 0.969043 20.3405 0.976853 20.1296C0.983551 19.9488 0.951238 19.754 0.998111 19.5769C1.03233 19.4477 1.163 19.3982 1.16818 19.2687C1.18732 18.7902 1.16818 18.3071 1.16818 17.8284C1.16818 17.3656 1.64825 17.1312 1.98131 16.9462C2.45963 16.6805 2.53716 16.4266 2.69878 15.9417" stroke="black" stroke-linecap="round"></path>
    </g>
    <defs>
      <clipPath id="5bf998c3">
        <rect width="43" height="42" fill="white"></rect>
      </clipPath>
    </defs>
  </svg>`,
  });
  const updateSettings = (newSettings: Partial<Settings>) => {
    setSettings({ ...settings, ...newSettings });
  };
  return (
    <SettingsContext.Provider value={{ settings, updateSettings }}>
      {children}
    </SettingsContext.Provider>
  );
};

export { SettingsProvider, SettingsContext };
